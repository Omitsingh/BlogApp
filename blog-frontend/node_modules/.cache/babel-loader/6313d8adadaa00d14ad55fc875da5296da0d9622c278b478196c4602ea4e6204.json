{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vivek singh\\\\Desktop\\\\blog_app_fixed\\\\blog-frontend\\\\src\\\\components\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { useBlog } from \"../../context/BlogContext\";\nimport \"./Pages.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const {\n    posts,\n    deletePost,\n    loading\n  } = useBlog();\n  if (!currentUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"You must be logged in to view your profile.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Go to Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading your posts...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Fix: Compare author ID with current user ID\n  const userPosts = posts.filter(post => {\n    // Handle different author formats\n    if (typeof post.author === 'object' && post.author._id) {\n      return post.author._id === currentUser.id;\n    }\n    return post.author === currentUser.id;\n  });\n  const handleDelete = async postId => {\n    if (window.confirm('Are you sure you want to delete this post?')) {\n      await deletePost(postId);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [currentUser.username, \"'s Profile\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Here are all the posts you've created:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), userPosts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You haven't created any posts yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"posts-list\",\n      children: userPosts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [post.content.substring(0, 100), \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Created: \", new Date(post.createdAt).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), post.tags && post.tags.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tags\",\n            children: post.tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tag\",\n              children: [\"#\", tag]\n            }, tag, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-actions\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/edit-post/${post._id}`,\n            className: \"btn\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(post._id),\n            className: \"btn btn-danger\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"LHs2wQj4gL5pq0JY1+JSOmIAd30=\", false, function () {\n  return [useAuth, useBlog];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","Link","useAuth","useBlog","jsxDEV","_jsxDEV","Profile","_s","currentUser","posts","deletePost","loading","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","userPosts","filter","post","author","_id","id","handleDelete","postId","window","confirm","username","length","map","title","content","substring","Date","createdAt","toLocaleDateString","tags","tag","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Vivek singh/Desktop/blog_app_fixed/blog-frontend/src/components/pages/Profile.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport { useBlog } from \"../../context/BlogContext\";\r\nimport \"./Pages.css\";\r\n\r\nconst Profile = () => {\r\n  const { currentUser } = useAuth();\r\n  const { posts, deletePost, loading } = useBlog();\r\n\r\n  if (!currentUser) {\r\n    return (\r\n      <div className=\"page\">\r\n        <h2>You must be logged in to view your profile.</h2>\r\n        <Link to=\"/login\">Go to Login</Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"page\">\r\n        <h2>Loading your posts...</h2>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Fix: Compare author ID with current user ID\r\n  const userPosts = posts.filter((post) => {\r\n    // Handle different author formats\r\n    if (typeof post.author === 'object' && post.author._id) {\r\n      return post.author._id === currentUser.id;\r\n    }\r\n    return post.author === currentUser.id;\r\n  });\r\n\r\n  const handleDelete = async (postId) => {\r\n    if (window.confirm('Are you sure you want to delete this post?')) {\r\n      await deletePost(postId);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <h2>{currentUser.username}'s Profile</h2>\r\n      <p>Here are all the posts you've created:</p>\r\n\r\n      {userPosts.length === 0 ? (\r\n        <p>You haven't created any posts yet.</p>\r\n      ) : (\r\n        <div className=\"posts-list\">\r\n          {userPosts.map((post) => (\r\n            <div key={post._id} className=\"post-card\">\r\n              <h3>{post.title}</h3>\r\n              <p>{post.content.substring(0, 100)}...</p>\r\n              <div className=\"post-meta\">\r\n                <span>Created: {new Date(post.createdAt).toLocaleDateString()}</span>\r\n                {post.tags && post.tags.length > 0 && (\r\n                  <div className=\"tags\">\r\n                    {post.tags.map(tag => (\r\n                      <span key={tag} className=\"tag\">#{tag}</span>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"post-actions\">\r\n                <Link to={`/edit-post/${post._id}`} className=\"btn\">\r\n                  Edit\r\n                </Link>\r\n                <button\r\n                  onClick={() => handleDelete(post._id)}\r\n                  className=\"btn btn-danger\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}